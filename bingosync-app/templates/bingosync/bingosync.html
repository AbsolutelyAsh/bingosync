{% load staticfiles %}

<!DOCTYPE html>
<html>
<head>
    <title>Ocarina of Time Bingo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="{% static "bingosync/bootstrap.min.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "bingosync/style.css" %}">
    <script src="{% static "jquery.min.js" %}"></script>
    <script src="{% static "bingosync/misc.js" %}"></script>
</head>
<body>
<div class="container" style="height: 97vh">
    <div>
        <h1>Bingosync</h1>
    </div>
    <div class="row" style="height: calc(100% - 70px); margin-bottom: 20px;">
        <div class="col-md-6">
            <div class="fill-parent" style="text-align: center">
                {% include 'bingosync/color_chooser.html' %}
                <div style="display: inline-block;">
                    {% include 'bingosync/board.html' %}
                </div>
            </div>
        </div>
        <div class="col-md-6" style="height: 93%">
            <div class="row" style="height: 100%">
                <div class="col-md-8" style="height: 100%">
                    {% include 'bingosync/chat_panel.html' %}
                </div>
                <div class="col-md-4" style="height: 100%">
                    <div class="flex-col-container">
                        <div class="flex-col-content">
                            {% include 'bingosync/players_panel.html' %}
                        </div>
                        <div class="flex-col-footer">
                            {% include 'bingosync/room_settings_panel.html' %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="{% static "bingosync/bingosync.js" %}"></script>
<script>
    $(document).ready(function() {
        var boardUrl = "{% url 'views.board_json' seed %}";
        var socketsUrl = "{{ sockets_url }}/broadcast";
        var goalSelectedUrl = "{% url 'views.goal_selected' %}";

        // asynchronously load and populate the board
        initializeBoard($("#bingo"), boardUrl, goalSelectedUrl, $("#color-chooser"));

        // open the chat web socket
        initializeChatSocket($("#bingo-chat"), socketsUrl);

        // enable choosing color
        initializeColorChooser($("#color-chooser"), $("#bingo"));
    });
</script>
</body>
</html>

